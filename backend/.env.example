# Server Configuration
PORT=3001
NODE_ENV=production

# Database Configuration (optional - defaults to ./backend/data)
DATA_DIR=/app/data

# Base URL for the application (used for password reset emails and other links)
# This should be the public URL where your application is accessible
# BASE_URL=https://your-domain.com
BASE_URL=http://localhost:3000

# Allowed Origins for CORS and password reset (comma-separated)
# Only origins in this list can be used for password reset links from the request
# ALLOWED_ORIGINS=https://your-domain.com,https://app.your-domain.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# Admin Email - Users with this email will automatically be granted admin role
# The first user to register will automatically become admin regardless of this setting
# Uncomment and set your admin email below:
# ADMIN_EMAIL=admin@yourdomain.com

# ====================
# OIDC/SSO Configuration
# ====================
# Enable OIDC authentication (set to 'true' to enable)
OIDC_ENABLED=false

# OIDC Provider Configuration
# Issuer URL (e.g., https://your-auth0-domain.auth0.com, https://accounts.google.com, etc.)
# OIDC_ISSUER_URL=https://your-domain.auth0.com

# Client credentials from your OIDC provider
# OIDC_CLIENT_ID=your-client-id
# OIDC_CLIENT_SECRET=your-client-secret

# Redirect URI (where OIDC provider sends users after authentication)
# For local development: http://localhost:3000/auth/callback
# For production: https://your-domain.com/auth/callback
# OIDC_REDIRECT_URI=http://localhost:3000/auth/callback

# OIDC scopes (space-separated)
# OIDC_SCOPE=openid email profile

# Role Mapping Configuration
# Path to role claim in OIDC token (e.g., "roles", "groups", "https://myapp.com/roles")
# OIDC_ROLE_CLAIM_PATH=roles

# Default role for new OIDC users (if no role mapping matches)
# OIDC_DEFAULT_ROLE=employee

# Example configurations for popular providers:
#
# Auth0:
# OIDC_ISSUER_URL=https://your-domain.auth0.com
# OIDC_CLIENT_ID=your-client-id
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_REDIRECT_URI=http://localhost:3000/auth/callback
# OIDC_SCOPE=openid email profile
# OIDC_ROLE_CLAIM_PATH=https://your-domain.com/roles
#
# Google Workspace:
# OIDC_ISSUER_URL=https://accounts.google.com
# OIDC_CLIENT_ID=your-client-id.apps.googleusercontent.com
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_REDIRECT_URI=http://localhost:3000/auth/callback
# OIDC_SCOPE=openid email profile
# OIDC_ROLE_CLAIM_PATH=roles
#
# Azure AD / Microsoft Entra ID:
# OIDC_ISSUER_URL=https://login.microsoftonline.com/your-tenant-id/v2.0
# OIDC_CLIENT_ID=your-application-id
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_REDIRECT_URI=http://localhost:3000/auth/callback
# OIDC_SCOPE=openid email profile
# OIDC_ROLE_CLAIM_PATH=roles

# ====================
# Passkey/WebAuthn Configuration
# ====================
# Relying Party ID - MUST match the domain you're accessing the app from
# For local development: use 'localhost' and access via http://localhost:5173 (NOT 127.0.0.1)
# For production: use your domain without protocol (e.g., 'example.com' or 'app.example.com')
PASSKEY_RP_ID=localhost

# Relying Party Name - Friendly name shown to users during passkey registration
PASSKEY_RP_NAME=KARS - KeyData Asset Registration System

# Expected Origin - The full URL where your frontend is hosted
# For local development: http://localhost:5173
# For production: https://your-domain.com
PASSKEY_ORIGIN=http://localhost:5173
